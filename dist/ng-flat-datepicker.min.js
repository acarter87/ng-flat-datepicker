(function(){"use strict";function n(n,t,i,r){return{restrict:"A",require:"ngModel",scope:{config:"=datepickerConfig"},link:function(u,f,e,o){function l(n){s===n.target||s[0].contains(n.target)||n.target===f[0]||(i.off("click",l),u.$apply(function(){u.calendarCursor=h?h:c;u.pickerDisplayed=u.showMonthsList=u.showYearsList=!1}))}function a(){f.wrap('<div class="ng-flat-datepicker-wrapper"><\/div>');t(s)(u);f.after(s);angular.isDefined(o.$modelValue)&&moment.isDate(o.$modelValue)&&(u.calendarCursor=o.$modelValue)}function v(n){var o=[],n=moment.utc(n),e=moment(n).date(1),s=moment(n).date(n.daysInMonth()),i=moment(e),r=moment(s),f,t;for(i=e.weekday()===0?i:i.weekday(0),i.local().format("ddd")=="Mon"&&i.add(1,"days"),r=s.weekday()===6?r:r.weekday(6),f=[],t=moment(i);t.isBefore(moment(r).add(1,"days"));t.add(1,"days")){var l=!u.config.minDate||t.isAfter(u.config.minDate,"day"),a=!u.config.maxDate||t.isBefore(u.config.maxDate,"day"),v=t.isAfter(c),y=u.config.allowFuture||!v,p={date:moment(t).toDate(),isToday:t.isSame(c,"day"),isInMonth:t.isSame(e,"month"),isSelected:t.isSame(h,"day"),isSelectable:l&&a&&y};f.push(p);(t.weekday()===6||t===r)&&(o.push(f),f=[])}return o}function y(){u.currentWeeks.forEach(function(n,t){n.forEach(function(n,i){u.currentWeeks[t][i].isSelected=!1})})}var s=angular.element(n.get("datepicker.html")),h="",c=moment.utc();u.config=angular.extend({allowFuture:!0,dateFormat:null,minDate:null,maxDate:null},u.config);angular.isDefined(u.config.minDate)&&moment.utc(u.config.minDate).subtract(1,"day");angular.isDefined(u.config.maxDate)&&moment.utc(u.config.maxDate).add(1,"day");u.calendarCursor=c;u.currentWeeks=[];u.daysNameList=r.getDaysNames();u.monthsList=moment.months();u.yearsList=r.getYearsList();u.pickerDisplayed=!1;u.$watch(function(){return o.$modelValue},function(n){n&&(h=u.calendarCursor=moment.utc(n,u.config.dateFormat))});u.$watch("calendarCursor",function(n){u.currentWeeks=v(n)});f.bind("click",function(){u.$apply(function(){u.pickerDisplayed=!0;i.on("click",l)})});a();u.prevMonth=function(){u.calendarCursor=moment(u.calendarCursor).subtract(1,"months")};u.nextMonth=function(){u.calendarCursor=moment(u.calendarCursor).add(1,"months")};u.selectMonth=function(n){u.showMonthsList=!1;u.calendarCursor=moment(u.calendarCursor).month(n)};u.selectYear=function(n){u.showYearsList=!1;u.calendarCursor=moment(u.calendarCursor).year(n)};u.selectDay=function(n){(!n.isFuture||u.config.allowFuture&&n.isFuture)&&(y(),n.isSelected=!0,o.$setViewValue(moment.utc(n.date).format(u.config.dateFormat)),o.$render(),u.pickerDisplayed=!1)}}}}angular.module("ngFlatDatepicker",[]).directive("ngFlatDatepicker",n);n.$inject=["$templateCache","$compile","$document","datesCalculator"]})(),function(){"use strict";function n(){function n(){for(var t=[],n=2005;n<=moment().year();n++)t.push(n);return t}function t(){for(var t=[],n=0;n<7;n++)t.push(moment().weekday(n).format("ddd"));return t}return{getYearsList:n,getDaysNames:t}}angular.module("ngFlatDatepicker").factory("datesCalculator",n)}();angular.module("ngFlatDatepicker").run(["$templateCache",function(n){n.put("datepicker.html",'<div class="ng-flat-datepicker" ng-show="pickerDisplayed">\n    <div class="ng-flat-datepicker-table-header-bckgrnd"><\/div>\n    <table>\n        <caption>\n            <div class="ng-flat-datepicker-header-wrapper">\n                <span class="ng-flat-datepicker-arrow ng-flat-datepicker-arrow-left" ng-click="prevMonth()">\n                    <svg version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="50" y="50" viewBox="0 0 100 100" xml:space="preserve">\n                        <polygon points="64.8,36.2 35.2,6.5 22.3,19.4 51.9,49.1 22.3,78.8 35.2,91.7 77.7,49.1" />\n                    <\/svg>\n                <\/span>\n                <div class="ng-flat-datepicker-header-year">\n                    <div class="ng-flat-datepicker-custom-select-box" outside-click="showMonthsList = false">\n                        <span class="ng-flat-datepicker-custom-select-title ng-flat-datepicker-month-name" ng-click="showMonthsList = !showMonthsList; showYearsList = false" ng-class="{selected: showMonthsList }">{{ calendarCursor.isValid() ? calendarCursor.format(\'MMMM\') : "" }}<\/span>\n                        <div class="ng-flat-datepicker-custom-select" ng-show="showMonthsList">\n                            <span ng-repeat="monthName in monthsList" ng-click="selectMonth(monthName); showMonthsList = false">{{ monthName }}<\/span>\n                        <\/div>\n                    <\/div>\n                    <div class="ng-flat-datepicker-custom-select-box" outside-click="showYearsList = false">\n                        <span class="ng-flat-datepicker-custom-select-title" ng-click="showYearsList = !showYearsList; showMonthsList = false" ng-class="{selected: showYearsList }">{{ calendarCursor.isValid() ? calendarCursor.format(\'YYYY\') : "" }}<\/span>\n                        <div class="ng-flat-datepicker-custom-select" ng-show="showYearsList">\n                            <span ng-repeat="yearNumber in yearsList" ng-click="selectYear(yearNumber)">{{ yearNumber }}<\/span>\n                        <\/div>\n                    <\/div>\n                <\/div>\n                <span class="ng-flat-datepicker-arrow ng-flat-datepicker-arrow-right" ng-click="nextMonth()">\n                    <svg version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="50" y="50" viewBox="0 0 100 100" xml:space="preserve">\n                        <polygon points="64.8,36.2 35.2,6.5 22.3,19.4 51.9,49.1 22.3,78.8 35.2,91.7 77.7,49.1" />\n                    <\/svg>\n                <\/span>\n            <\/div>\n        <\/caption>\n        <tbody>\n            <tr class="days-head">\n                <td class="day-head" ng-repeat="dayName in daysNameList">{{ dayName }}<\/td>\n            <\/tr>\n            <tr class="days" ng-repeat="week in currentWeeks">\n                <td ng-repeat="day in week" ng-click="selectDay(day)" ng-class="[\'day-item\', { \'isToday\': day.isToday, \'isInMonth\': day.isInMonth, \'isDisabled\': !day.isSelectable, \'isSelected\': day.isSelected }]">{{ day.date | date:\'dd\' }}<\/td>\n            <\/tr>\n        <\/tbody>\n    <\/table>\n<\/div>\n')}]);
